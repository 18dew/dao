<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><title>dao-core</title><link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous"><link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap-theme.min.css" integrity="sha384-fLW2N01lMqjakBkx3l/M9EahuwpSfeNvV63J5ezn3uZzapT0u7EYsXMjQV+0En5r" crossorigin="anonymous"><link href="css/natdoc2html.css" rel="stylesheet"></head><body><div class="wrapper"><div id="sidebar-wrapper"><ul class="sidebar-nav"><li class="sidebar-brand"><a href="#">dao-core</a></li><li><a href="#Database">Database</a><li><a href="#Doug">Doug</a><li><a href="#DefaultDoug">DefaultDoug</a><li><a href="#Permission">Permission</a><li><a href="#DefaultPermission">DefaultPermission</a></ul></div><div id="page-content-wrapper"><h1>dao-core</h1><hr><h3>NOTE: Ethereum Natspec does not support a lot of documentation tags yet. Will improve these pages as it improves. Will also improve the page layout.</h3><br><a name="Database"></a><div class="panel panel-default"><div class="panel-heading"><h2 class="panel-title">Database</h2></div><div class="panel-body">Author: Andreas Olofsson (androlo1980@gmail.com)</div><ul class="list-group"><li class="list-group-item"><div><h4><b>destroy(address)</b></h4><div>Destroy a contract. No return values since it's a destruction. Calls 'selfdestruct' on the contract if successful.</div><div><br><b>Params</b><ul><li><em>fundReceiver</em>: (address) the account that receives the funds.</li></ul></div></div></li><li class="list-group-item"><div><h4><b>dougAddress()</b></h4><div>Get the address of the Doug contract.</div><div><br><b>Returns</b><ul><li><em>dougAddress</em>: (address) the doug address.</li></ul></div></div></li><li class="list-group-item"><div><h4><b>setDougAddress(address)</b></h4><div>Set the address of the Doug contract. Will fail if address is already set, or if input address is 0.</div><div><br><b>Params</b><ul><li><em>dougAddr</em>: (address) the address</li></ul></div><div><br><b>Returns</b><ul><li><em>added</em>: (bool) true means the address was added successfully. Doug implementations should normally not register a contract that returns false.</li></ul></div></div></li></ul></div><a name="DefaultDoug"></a><div class="panel panel-default"><div class="panel-heading"><h2 class="panel-title">DefaultDoug</h2></div><div class="panel-body">Author: Andreas Olofsson (androlo1980@gmail.com)</div><ul class="list-group"><li class="list-group-item"><div><h4><b>actionsContractAddress(bytes32)</b></h4><div>Get the address of the contract with the given Id.</div><div><br><b>Params</b><ul><li><em>identifier</em>: (bytes32) the identifier (name)</li></ul></div><div><br><b>Returns</b><ul><li><em>contractAddress</em>: (address) the address (or nil)</li></ul></div></div></li><li class="list-group-item"><div><h4><b>actionsContractFromIndex(uint256)</b></h4><div>Get the id and address of the contract with the given index.</div><div><br><b>Params</b><ul><li><em>index</em>: (uint) the index</li></ul></div><div><br><b>Returns</b><ul><li><em>identifier</em>: (bytes32) the id</li><li><em>contractAddress</em>: (bytes32) the address</li><li><em>error</em>: (uint16) error code</li></ul></div></div></li><li class="list-group-item"><div><h4><b>actionsContractId(address)</b></h4><div>Get the id of the contract with the given address.</div><div><br><b>Params</b><ul><li><em>contractAddress</em>: (address) the contract address</li></ul></div><div><br><b>Returns</b><ul><li><em>identifier</em>: (bytes32) the id (or nil)</li></ul></div></div></li><li class="list-group-item"><div><h4><b>addActionsContract(bytes32,address)</b></h4><div>Add a new contract to the registry. Fires off 'ActionsContractAdded' event if successful.</div><div><br><b>Params</b><ul><li><em>contractAddress</em>: (address) the contract address</li><li><em>identifier</em>: (bytes32) the identifier (name)</li></ul></div><div><br><b>Returns</b><ul><li><em>error</em>: (uint16) an error code</li></ul></div></div></li><li class="list-group-item"><div><h4><b>addDatabaseContract(bytes32,address)</b></h4><div>Add a new contract to the registry. Fires off 'DatabaseContractAdded' event if successful.</div><div><br><b>Params</b><ul><li><em>contractAddress</em>: (address) the contract address</li><li><em>identifier</em>: (bytes32) the identifier (name)</li></ul></div><div><br><b>Returns</b><ul><li><em>error</em>: (uint16) an error code</li></ul></div></div></li><li class="list-group-item"><div><h4><b>databaseContractAddress(bytes32)</b></h4><div>Get the address of the contract with the given Id.</div><div><br><b>Params</b><ul><li><em>identifier</em>: (bytes32) the identifier (name)</li></ul></div><div><br><b>Returns</b><ul><li><em>contractAddress</em>: (address) the address (or nil)</li></ul></div></div></li><li class="list-group-item"><div><h4><b>databaseContractFromIndex(uint256)</b></h4><div>Get the id and address of the contract with the given index.</div><div><br><b>Params</b><ul><li><em>index</em>: (uint) the index</li></ul></div><div><br><b>Returns</b><ul><li><em>identifier</em>: (bytes32) the id</li><li><em>contractAddress</em>: (bytes32) the address</li><li><em>error</em>: (uint16) error code</li></ul></div></div></li><li class="list-group-item"><div><h4><b>databaseContractId(address)</b></h4><div>Get the id of the contract with the given address.</div><div><br><b>Params</b><ul><li><em>contractAddress</em>: (address) the contract address</li></ul></div><div><br><b>Returns</b><ul><li><em>identifier</em>: (bytes32) the id (or nil)</li></ul></div></div></li><li class="list-group-item"><div><h4><b>destroy(address)</b></h4><div>Calls 'selfdestruct' if caller is the account set as permission root. on the contract if successful.</div><div><br><b>Params</b><ul><li><em>fundReceiver</em>: (address) the account that receives the funds.</li></ul></div></div></li><li class="list-group-item"><div><h4><b>destroyRemovedActions()</b></h4><div>Check if contracts are automatically destroyed when removed</div><div><br><b>Returns</b><ul><li><em>destroyRemovedActions</em>: (bool) whether or not 'destroy' should be called on contracts when they are removed.</li></ul></div></div></li><li class="list-group-item"><div><h4><b>destroyRemovedDatabases()</b></h4><div>Check if contracts are automatically destroyed when removed</div><div><br><b>Returns</b><ul><li><em>destroyRemovedDatabases</em>: (bool) whether or not 'destroy' should be called on contracts when they are removed.</li></ul></div></div></li><li class="list-group-item"><div><h4><b>numActionsContracts()</b></h4><div>Get the number of contracts in the registry</div><div><br><b>Returns</b><ul><li><em>numContracts</em>: (uint) the number of contracts</li></ul></div></div></li><li class="list-group-item"><div><h4><b>numDatabaseContracts()</b></h4><div>Get the number of contracts in the registry.</div><div><br><b>Returns</b><ul><li><em>numContracts</em>: (uint) the number of contracts</li></ul></div></div></li><li class="list-group-item"><div><h4><b>permissionAddress()</b></h4><div>Get the address of the permission contract.</div><div><br><b>Returns</b><ul><li><em>pmAddress</em>: (address) the address</li></ul></div></div></li><li class="list-group-item"><div><h4><b>removeActionsContract(bytes32)</b></h4><div>Remove a contract from the registry. Fires an 'ActionsContractRemoved' event if successful. Will also invoke 'Destructible.destroy' on the contract if automatic destruction on removal is set.</div><div><br><b>Params</b><ul><li><em>identifier</em>: (bytes32) the identifier (name)</li></ul></div><div><br><b>Returns</b><ul><li><em>error</em>: (uint16) an error code</li></ul></div></div></li><li class="list-group-item"><div><h4><b>removeDatabaseContract(bytes32)</b></h4><div>Remove a contract from the registry. Fires off 'DatabaseContractRemoved' event if successful. Will also invoke 'Destructible.destroy' on the contract if automatic destruction on removal is set.</div><div><br><b>Params</b><ul><li><em>identifier</em>: (bytes32) the identifier (name)</li></ul></div><div><br><b>Returns</b><ul><li><em>error</em>: (uint16) an error code</li></ul></div></div></li><li class="list-group-item"><div><h4><b>setDestroyRemovedActions(bool)</b></h4><div>Enable to call 'destroy' method on contracts. when they are removed.</div><div><br><b>Params</b><ul><li><em>destroyRemovedActions</em>: (bool) whether or not contracts should be overwritable</li></ul></div><div><br><b>Returns</b><ul><li><em>error</em>: (uint16) error code</li></ul></div></div></li><li class="list-group-item"><div><h4><b>setDestroyRemovedDatabases(bool)</b></h4><div>Enable to call 'destroy' method on contracts. when they are removed.</div><div><br><b>Params</b><ul><li><em>destroyRemovedDatabases</em>: (bool) whether or not contracts should be destroyed when removed</li></ul></div><div><br><b>Returns</b><ul><li><em>error</em>: (uint16) error code</li></ul></div></div></li><li class="list-group-item"><div><h4><b>setPermission(address)</b></h4><div>Set the permission contract address;</div><div><br><b>Params</b><ul><li><em>permissionAddress</em>: (address) the address to the permission contract.</li></ul></div><div><br><b>Returns</b><ul><li><em>error</em>: (uint16) error code</li></ul></div></div></li></ul></div><a name="DefaultPermission"></a><div class="panel panel-default"><div class="panel-heading"><h2 class="panel-title">DefaultPermission</h2></div><div class="panel-body">Author: Andreas Olofsson (androlo1980@gmail.com)</div><ul class="list-group"><li class="list-group-item"><div><h4><b>addOwner(address)</b></h4><div>Add a new owner. Can only be done by 'root'.</div><div><br><b>Params</b><ul><li><em>addr</em>: (address) the address of the new owner</li></ul></div><div><br><b>Returns</b><ul><li><em>error</em>: (uint16) error code</li></ul></div></div></li><li class="list-group-item"><div><h4><b>destroy(address)</b></h4><div>Calls 'selfdestruct' if caller is root. on the contract if successful.</div><div><br><b>Params</b><ul><li><em>fundReceiver</em>: (address) the account that receives the funds.</li></ul></div></div></li><li class="list-group-item"><div><h4><b>hasPermission(address)</b></h4><div>Check if an address has this permission.</div><div><br><b>Params</b><ul><li><em>addr</em>: (address) the address</li></ul></div><div><br><b>Returns</b><ul><li><em>hasPerm</em>: (bool) true if the address is either root or an owner, false otherwise.</li></ul></div></div></li><li class="list-group-item"><div><h4><b>numOwners()</b></h4><div>Get the total number of owners.</div><div><br><b>Returns</b><ul><li><em>numOwners</em>: (uint) the number of owners</li></ul></div></div></li><li class="list-group-item"><div><h4><b>ownerFromIndex(uint256)</b></h4><div>Get the owner with position 'index' in the backing array.</div><div><br><b>Params</b><ul><li><em>index</em>: (uint) the index.</li></ul></div><div><br><b>Returns</b><ul><li><em>owner</em>: (address) the owner address</li><li><em>timestamp</em>: (uint) the time when the owner was added</li><li><em>error</em>: (uint16) error code</li></ul></div></div></li><li class="list-group-item"><div><h4><b>ownerTimestamp(address)</b></h4><div>Get the time when the owner was added.</div><div><br><b>Params</b><ul><li><em>addr</em>: (address) the owner address</li></ul></div><div><br><b>Returns</b><ul><li><em>timestamp</em>: (uint) the time when the owner was added</li><li><em>error</em>: (uint16) error code</li></ul></div></div></li><li class="list-group-item"><div><h4><b>removeOwner(address)</b></h4><div>Remove an owner. Can only be done by 'root' and the owner himself.</div><div><br><b>Params</b><ul><li><em>addr</em>: (address) the address of the owner</li></ul></div><div><br><b>Returns</b><ul><li><em>error</em>: (uint16) error code</li></ul></div></div></li><li class="list-group-item"><div><h4><b>root()</b></h4><div>Get the root address.</div><div><br><b>Returns</b><ul><li><em>root</em>: (address) the address of root.</li></ul></div></div></li><li class="list-group-item"><div><h4><b>rootData()</b></h4><div>Get the address of root, and the time they were created.</div><div><br><b>Returns</b><ul><li><em>root</em>: (address) the address</li><li><em>timeRootAdded</em>: (uint) the time when root was added.</li></ul></div></div></li><li class="list-group-item"><div><h4><b>setRoot(address)</b></h4><div>Set the root account address. Can only be done when caller is 'root'.</div><div><br><b>Params</b><ul><li><em>newRoot</em>: (address) the address</li></ul></div><div><br><b>Returns</b><ul><li><em>error</em>: (uint16) error code</li></ul></div></div></li></ul></div><a name="Doug"></a><div class="panel panel-default"><div class="panel-heading"><h2 class="panel-title">Doug</h2></div><div class="panel-body">Author: Andreas Olofsson (androlo1980@gmail.com)</div><ul class="list-group"><li class="list-group-item"><div><h4><b>actionsContractAddress(bytes32)</b></h4><div>Get the address of the contract with the given Id.</div><div><br><b>Params</b><ul><li><em>identifier</em>: (bytes32) the identifier (name)</li></ul></div><div><br><b>Returns</b><ul><li><em>contractAddress</em>: (address) the address (or nil)</li></ul></div></div></li><li class="list-group-item"><div><h4><b>actionsContractFromIndex(uint256)</b></h4><div>Get the id and address of the contract with the given index.</div><div><br><b>Params</b><ul><li><em>index</em>: (uint) the index</li></ul></div><div><br><b>Returns</b><ul><li><em>identifier</em>: (bytes32) the id</li><li><em>contractAddress</em>: (bytes32) the address</li><li><em>error</em>: (uint16) error code</li></ul></div></div></li><li class="list-group-item"><div><h4><b>actionsContractId(address)</b></h4><div>Get the id of the contract with the given address.</div><div><br><b>Params</b><ul><li><em>contractAddress</em>: (address) the contract address</li></ul></div><div><br><b>Returns</b><ul><li><em>identifier</em>: (bytes32) the id (or nil)</li></ul></div></div></li><li class="list-group-item"><div><h4><b>addActionsContract(bytes32,address)</b></h4><div>Add a new contract to the registry.</div><div><br><b>Params</b><ul><li><em>contractAddress</em>: (address) the contract address</li><li><em>identifier</em>: (bytes32) the identifier (name)</li></ul></div><div><br><b>Returns</b><ul><li><em>error</em>: (uint16) an error code</li></ul></div></div></li><li class="list-group-item"><div><h4><b>addDatabaseContract(bytes32,address)</b></h4><div>Add a new contract to the registry.</div><div><br><b>Params</b><ul><li><em>contractAddress</em>: (address) the contract address</li><li><em>identifier</em>: (bytes32) the identifier (name)</li></ul></div><div><br><b>Returns</b><ul><li><em>error</em>: (uint16) an error code</li></ul></div></div></li><li class="list-group-item"><div><h4><b>databaseContractAddress(bytes32)</b></h4><div>Get the address of the contract with the given Id.</div><div><br><b>Params</b><ul><li><em>identifier</em>: (bytes32) the identifier (name)</li></ul></div><div><br><b>Returns</b><ul><li><em>contractAddress</em>: (address) the address (or nil)</li></ul></div></div></li><li class="list-group-item"><div><h4><b>databaseContractFromIndex(uint256)</b></h4><div>Get the id and address of the contract with the given index.</div><div><br><b>Params</b><ul><li><em>index</em>: (uint) the index</li></ul></div><div><br><b>Returns</b><ul><li><em>identifier</em>: (bytes32) the id</li><li><em>contractAddress</em>: (bytes32) the address</li><li><em>error</em>: (uint16) error code</li></ul></div></div></li><li class="list-group-item"><div><h4><b>databaseContractId(address)</b></h4><div>Get the id of the contract with the given address.</div><div><br><b>Params</b><ul><li><em>contractAddress</em>: (address) the contract address</li></ul></div><div><br><b>Returns</b><ul><li><em>identifier</em>: (bytes32) the id (or nil)</li></ul></div></div></li><li class="list-group-item"><div><h4><b>destroy(address)</b></h4><div>Destroy a contract. No return values since it's a destruction. Calls 'selfdestruct' on the contract if successful.</div><div><br><b>Params</b><ul><li><em>fundReceiver</em>: (address) the account that receives the funds.</li></ul></div></div></li><li class="list-group-item"><div><h4><b>destroyRemovedActions()</b></h4><div>Check if contracts are automatically destroyed when removed</div><div><br><b>Returns</b><ul><li><em>destroyRemovedActions</em>: (bool) whether or not 'destroy' should be called on contracts when they are removed.</li></ul></div></div></li><li class="list-group-item"><div><h4><b>destroyRemovedDatabases()</b></h4><div>Check if contracts are automatically destroyed when removed</div><div><br><b>Returns</b><ul><li><em>destroyRemovedDatabases</em>: (bool) whether or not 'destroy' should be called on contracts when they are removed.</li></ul></div></div></li><li class="list-group-item"><div><h4><b>numActionsContracts()</b></h4><div>Get the number of contracts in the registry</div><div><br><b>Returns</b><ul><li><em>numContracts</em>: (uint) the number of contracts</li></ul></div></div></li><li class="list-group-item"><div><h4><b>numDatabaseContracts()</b></h4><div>Get the number of contracts in the registry.</div><div><br><b>Returns</b><ul><li><em>numContracts</em>: (uint) the number of contracts</li></ul></div></div></li><li class="list-group-item"><div><h4><b>permissionAddress()</b></h4><div>Get the address of the permission contract.</div><div><br><b>Returns</b><ul><li><em>pmAddress</em>: (address) the address</li></ul></div></div></li><li class="list-group-item"><div><h4><b>removeActionsContract(bytes32)</b></h4><div>Remove a contract from the registry.</div><div><br><b>Params</b><ul><li><em>identifier</em>: (bytes32) the identifier (name)</li></ul></div><div><br><b>Returns</b><ul><li><em>error</em>: (uint16) an error code</li></ul></div></div></li><li class="list-group-item"><div><h4><b>removeDatabaseContract(bytes32)</b></h4><div>Remove a contract from the registry.</div><div><br><b>Params</b><ul><li><em>identifier</em>: (bytes32) the identifier (name)</li></ul></div><div><br><b>Returns</b><ul><li><em>error</em>: (uint16) an error code</li></ul></div></div></li><li class="list-group-item"><div><h4><b>setDestroyRemovedActions(bool)</b></h4><div>Enable to call 'destroy' method on contracts. when they are removed.</div><div><br><b>Params</b><ul><li><em>destroyRemovedActions</em>: (bool) whether or not contracts should be overwritable</li></ul></div><div><br><b>Returns</b><ul><li><em>error</em>: (uint16) error code</li></ul></div></div></li><li class="list-group-item"><div><h4><b>setDestroyRemovedDatabases(bool)</b></h4><div>Enable to call 'destroy' method on contracts. when they are removed.</div><div><br><b>Params</b><ul><li><em>destroyRemovedDatabases</em>: (bool) whether or not contracts should be destroyed when removed</li></ul></div><div><br><b>Returns</b><ul><li><em>error</em>: (uint16) error code</li></ul></div></div></li><li class="list-group-item"><div><h4><b>setPermission(address)</b></h4><div>Set the permission contract address;</div><div><br><b>Params</b><ul><li><em>permissionAddress</em>: (address) the address to the permission contract.</li></ul></div><div><br><b>Returns</b><ul><li><em>error</em>: (uint16) error code</li></ul></div></div></li></ul></div><a name="Permission"></a><div class="panel panel-default"><div class="panel-heading"><h2 class="panel-title">Permission</h2></div><div class="panel-body">Author: Andreas Olofsson (androlo1980@gmail.com)</div><ul class="list-group"><li class="list-group-item"><div><h4><b>addOwner(address)</b></h4><div>Add a new owner.</div><div><br><b>Params</b><ul><li><em>addr</em>: (address) the address of the new owner</li></ul></div><div><br><b>Returns</b><ul><li><em>error</em>: (uint16) error code</li></ul></div></div></li><li class="list-group-item"><div><h4><b>hasPermission(address)</b></h4><div>Check if an address has this permission.</div><div><br><b>Params</b><ul><li><em>addr</em>: (address) the address</li></ul></div><div><br><b>Returns</b><ul><li><em>hasPerm</em>: (bool) true if the address is either root or an owner, false otherwise.</li></ul></div></div></li><li class="list-group-item"><div><h4><b>numOwners()</b></h4><div>Get the total number of owners.</div><div><br><b>Returns</b><ul><li><em>numOwners</em>: (uint) the number of owners</li></ul></div></div></li><li class="list-group-item"><div><h4><b>ownerFromIndex(uint256)</b></h4><div>Get the owner with position 'index' in the backing array.</div><div><br><b>Params</b><ul><li><em>index</em>: (uint) the index.</li></ul></div><div><br><b>Returns</b><ul><li><em>owner</em>: (address) the owner address</li><li><em>timestamp</em>: (uint) the time when the owner was added</li><li><em>error</em>: (uint16) error code</li></ul></div></div></li><li class="list-group-item"><div><h4><b>ownerTimestamp(address)</b></h4><div>Get the time when the owner was added.</div><div><br><b>Params</b><ul><li><em>addr</em>: (address) the owner address</li></ul></div><div><br><b>Returns</b><ul><li><em>timestamp</em>: (uint) the time when the owner was added</li><li><em>error</em>: (uint16) error code</li></ul></div></div></li><li class="list-group-item"><div><h4><b>removeOwner(address)</b></h4><div>Remove an owner.</div><div><br><b>Params</b><ul><li><em>addr</em>: (address) the address of the owner</li></ul></div><div><br><b>Returns</b><ul><li><em>error</em>: (uint16) error code</li></ul></div></div></li><li class="list-group-item"><div><h4><b>root()</b></h4><div>Get the root address.</div><div><br><b>Returns</b><ul><li><em>root</em>: (address) the address of root.</li></ul></div></div></li><li class="list-group-item"><div><h4><b>rootData()</b></h4><div>Get the address of root, and the time they were created.</div><div><br><b>Returns</b><ul><li><em>root</em>: (address) the address</li><li><em>timeRootAdded</em>: (uint) the time when root was added.</li></ul></div></div></li><li class="list-group-item"><div><h4><b>setRoot(address)</b></h4><div>Set the root account address.</div><div><br><b>Params</b><ul><li><em>newRoot</em>: (address) the address</li></ul></div><div><br><b>Returns</b><ul><li><em>error</em>: (uint16) error code</li></ul></div></div></li></ul></div></div></div><script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script><script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script></body></html>